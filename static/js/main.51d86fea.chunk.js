(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"ru",function(){return E});var r={};n.r(r),n.d(r,"ru",function(){return N});var c,o=n(0),u=n.n(o),l=n(6),i=n.n(l),s=n(2),m=n(1);!function(e){e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday",e[e.sunday=0]="sunday"}(c||(c={}));var d,f=n(4),v=function(){return f.DateTime.local()},b=function(e,t){return e.diff(t)},h=function(e){return f.DateTime.fromSQL(e)},p=function(e){return e.startOf("day")},y=function(){},E={finally:"\u043d\u0430\u043a\u043e\u043d\u0435\u0446-\u0442\u043e",in:"\u0447\u0435\u0440\u0435\u0437",event:"\u0441\u043e\u0431\u044b\u0442\u0438\u0435",finished:"\u0443\u0436\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043b\u043e\u0441\u044c"},N={days:"\u0434\u043d\u0438",hours:"\u0447\u0430\u0441\u044b",minutes:"\u043c\u0438\u043d\u0443\u0442\u044b",seconds:"\u0441\u0435\u043a\u0443\u043d\u0434\u044b"};!function(e){e.ru="ru"}(d||(d={}));var g,O=u.a.createContext({locale:d.ru,setLocale:y}),j=(n(15),Object(m.cn)("Counter")),C=u.a.memo(function(e){return u.a.createElement("div",{className:j()},u.a.createElement("div",{className:j("Unit")},e.unit),u.a.createElement("div",{className:j("Value")},e.value))}),S=(n(16),Object(m.cn)("Divider")),w=u.a.memo(function(e){return u.a.createElement("div",{className:S(null,[e.className])})}),I=(n(17),Object(m.cn)("Countdown")),x=u.a.memo(function(e){var t=Object(o.useContext)(O).locale,n=e.counter,l=Object(o.useMemo)(function(){return v()},[]),i=Object(o.useMemo)(function(){return n?h(n.date):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.friday;return p(e.set({weekday:t}))}(l)},[n]),m=Object(o.useMemo)(function(){return n?h(n.date):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.friday,n=p(e.set({weekday:t}));return n<e&&(n=p(e.plus({days:7}).set({weekday:t}))),n}(l)},[n]),d=l>m,f=i.hasSame(l,"day"),y=Object(o.useState)(function(){return b(m,l)}),E=Object(s.a)(y,2),N=E[0],g=E[1],j=Object(o.useState)(function(){return d}),S=Object(s.a)(j,2),x=S[0],k=S[1],M=Object(o.useState)(function(){return f}),R=Object(s.a)(M,2),T=R[0],L=R[1],D=a[t],B=Object(o.useMemo)(function(){return r[t]},[t]);Object(o.useEffect)(function(){var e,t=function(){l=v(),f=i.hasSame(l,"day"),d=l>m,g(b(m,l)),d!==x&&k(d),f!==T&&L(f)};return t(),d||(e=window.setInterval(t,1e3)),function(){return clearInterval(e)}},[e.counter]);var F,Y,Q=(F=N,Y="dd,hh,mm,ss",F.toFormat(Y)).split(","),P=Object(o.useMemo)(function(){return n?n.text:"\u043f\u044f\u0442\u043d\u0438\u0446\u0430"},[e.counter]);return u.a.createElement("div",{className:I()},T&&u.a.createElement("div",{className:I("FinalTitle")},"".concat(D.finally," ").concat(P,"!")),!T&&x&&u.a.createElement("div",{className:I("FinalTitle")},"".concat(D.event," ").concat(P," ").concat(D.finished,"!")),!T&&!x&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:I("Title")},"".concat(P," ").concat(D.in,":")),u.a.createElement(w,null),u.a.createElement("div",{className:I("RemainingTime")},u.a.createElement(C,{unit:B.days,value:Number(Q[0])>999?"\u221e":Q[0]}),u.a.createElement(C,{unit:B.hours,value:Q[1]}),u.a.createElement(C,{unit:B.minutes,value:Q[2]}),u.a.createElement(C,{unit:B.seconds,value:Q[3]}))))}),k=n(3);!function(e){e.change="color:change"}(g||(g={}));var M;!function(e){e.toggleMonths="settings:toggleMonths",e.toggleYears="settings: toggleYears"}(M||(M={}));var R;!function(e){e.add="counters:add",e.remove="counters:remove",e.changeRepeat="counters:changeRepeat",e.chooseCounter="counters:chooseCounter"}(R||(R={}));var T={colorStore:{primary:250},settingsStore:{withMonths:!1,withYears:!1},counterStore:{counters:[],currentCounterId:0}},L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var a,r=e,c=t,o=0;o<c.length;o++)r=(0,c[o])(r,n);return a=r,window.localStorage.setItem("ffStore$",JSON.stringify(a)),r}}(function(e,t){return Object(k.a)(e,function(e){switch(t.type){case g.change:return e.colorStore.primary=t.payload,e;default:return e}})},function(e,t){return Object(k.a)(e,function(e){switch(t.type){case M.toggleMonths:return e.settingsStore.withMonths=!e.settingsStore.withMonths,e;case M.toggleYears:return e.settingsStore.withMonths=!e.settingsStore.withYears||e.settingsStore.withMonths,e.settingsStore.withYears=!e.settingsStore.withYears,e;default:return e}})},function(e,t){return Object(k.a)(e,function(n){switch(t.type){case R.add:return n.counterStore.counters.push({id:Math.random(),text:t.payload.text,date:t.payload.date}),n;case R.remove:return n.counterStore.counters=n.counterStore.counters.filter(function(e){return e.id!==t.payload}),n;case R.changeRepeat:var a=n.counterStore.counters.find(function(e){return e.id===t.payload.id});return a&&(a.repeatable=!a.repeatable),n;case R.chooseCounter:return n.counterStore.currentCounterId=Number(t.payload.id),n;default:return e}})}),D=u.a.createContext({store:T,dispatch:y}),B=(n(19),u.a.memo(function(){var e=Object(o.useContext)(D).store,t="\n        .App{\n            --primaryHue: ".concat(e.colorStore.primary,"\n        }");return u.a.createElement("style",null,t)})),F=(n(20),Object(m.cn)("Icon")),Y=u.a.memo(function(e){var t=e.onIconClick,n=e.style,a=e.iconStyle,r=void 0===a?"md":a,c=e.name,o=e.className;return u.a.createElement("i",{title:"\u041a\u043e\u0433\u0434\u0430 \u043f\u044f\u0442\u043d\u0438\u0446\u0430?",onClick:t,style:n,className:F(null,["ion-".concat(r,"-").concat(c),o])})}),Q=(n(21),Object(m.cn)("DateInput")),P=u.a.memo(function(e){var t=e.forwardRef,n=e.caption,a=e.date,r=e.onChange,c=void 0===r?y:r;return u.a.createElement("div",{className:Q(null,[e.className])},u.a.createElement("label",{className:Q("Label")},n),u.a.createElement("input",{type:"date",tabIndex:-1,ref:t,defaultValue:a&&a.toSQLDate()||"",className:Q("Input"),onChange:c}))}),V=(n(22),Object(m.cn)("TextInput")),A=u.a.memo(function(e){var t=e.defaultValue,n=e.forwardRef,a=e.caption,r=e.placeholder,c=e.onChange;return u.a.createElement("div",{className:V(null,[e.className])},u.a.createElement("label",{className:V("Label")},a),u.a.createElement("input",{tabIndex:-1,onChange:c,className:V("Input"),defaultValue:t,ref:n,placeholder:r}))}),J=(n(23),Object(m.cn)("Button")),H=u.a.memo(function(e){var t=e.className,n=e.onButtonClick,a=e.text,r=e.icon,c=e.disabled;return u.a.createElement("button",{disabled:c,className:J({disabled:c},[t]),onClick:n},a,r&&u.a.createElement(Y,Object.assign({},r,{className:J("Icon")})))}),U=(n(24),n(25),Object(m.cn)("Checkbox")),$=(u.a.memo(function(e){return u.a.createElement("div",{className:U(null,[e.className])},u.a.createElement("label",{className:U("Label")},e.label),u.a.createElement("input",{className:U("Input"),onChange:e.onChange,type:"checkbox",ref:e.forwardRef}))}),Object(m.cn)("DateForm")),q=u.a.memo(function(e){var t=Object(o.useContext)(D).dispatch,n=Object(o.useState)(!0),a=Object(s.a)(n,2),r=a[0],c=a[1],l=u.a.createRef(),i=u.a.createRef(),m=(u.a.createRef(),function(){if(i.current&&l.current){var e=f.DateTime.fromSQL(i.current.value),t=v();if(!e.isValid||e<t||""===l.current.value){if(!r)return void c(!0)}else if(r)return void c(!1)}});return u.a.createElement("div",{className:$(null,[e.className])},u.a.createElement(A,{onChange:m,className:$("Input"),forwardRef:l,caption:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f",placeholder:"\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0421\u0430\u0448\u0438"}),u.a.createElement(P,{onChange:m,className:$("Input"),forwardRef:i,caption:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",date:v()}),!1,u.a.createElement(H,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onButtonClick:function(){if(i.current&&l.current){var e=f.DateTime.fromSQL(i.current.value);t({type:R.add,payload:{text:l.current.value,date:e.toSQLDate()}}),i.current&&l.current&&(l.current.value="",i.current.value=v().toSQLDate()||"",m())}},disabled:r}))}),z=n(7),G=(n(26),n(27),u.a.memo(function(e){return u.a.createElement("div",{onClick:e.onClick,className:K("Counter",{active:e.active})},u.a.createElement("div",{className:K("Title")},e.text),u.a.createElement("div",{className:K("Date")},e.date),u.a.createElement(Y,{onIconClick:function(t){t.stopPropagation(),e.remove()},name:"trash",className:K("RemoveButton")}))})),K=Object(m.cn)("CounterList"),W=u.a.memo(function(){var e=Object(o.useContext)(D),t=e.store,n=e.dispatch,a=Object(z.a)(t.counterStore.counters);return u.a.createElement("div",{className:K()},0===a.length&&u.a.createElement("div",{className:K("Placeholder")},"\u041d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0441\u0447\u0451\u0442\u0447\u0438\u043a\u043e\u0432"),a.sort(function(e,t){return e.date<t.date?-1:0}).map(function(e){return u.a.createElement(G,{key:e.id,onClick:function(){return n({type:R.chooseCounter,payload:{id:e.id}})},remove:function(){return n({type:R.remove,payload:e.id})},active:e.id===t.counterStore.currentCounterId,text:e.text,date:e.date})}))}),X=(n(28),Object(m.cn)("TabPanel")),Z=u.a.memo(function(e){return u.a.createElement("div",{className:X(null,[e.className])},u.a.createElement("div",{className:X("Navigation")},e.tabs.map(function(e,t){return u.a.createElement("span",{key:t,className:X("TabText",{active:e.active}),onClick:e.onClick},e.text)})),u.a.createElement("div",{className:X("Content")},e.tabs.find(function(e){return Boolean(e.active)}).content))}),_=(n(29),Object(m.cn)("Sidebar")),ee=u.a.memo(function(){var e,t=Object(o.useState)(0),n=Object(s.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(!1),l=Object(s.a)(c,2),i=l[0],m=l[1],d=u.a.createElement(u.a.Fragment,null,u.a.createElement(W,null),u.a.createElement(w,{className:_("Item")}),u.a.createElement(q,{className:_("Bottom")}));return u.a.createElement("div",{className:_({opened:i})},u.a.createElement(Y,{name:"settings",className:_("Menu"),onIconClick:function(){m(!i)}}),u.a.createElement(Z,{tabs:[{content:d,text:"\u0422\u0430\u0439\u043c\u0435\u0440\u044b",onClick:(e=0,function(){return r(e)}),active:0===a}]}))}),te=Object(m.cn)("App");n(30);i.a.render(u.a.createElement(function(){var e=Object(o.useReducer)(L,T),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(d.ru),c=Object(s.a)(r,2),l=c[0],i=c[1],m=n.counterStore.counters.find(function(e){return e.id===n.counterStore.currentCounterId});return u.a.createElement(O.Provider,{value:{locale:l,setLocale:i}},u.a.createElement(D.Provider,{value:{store:n,dispatch:a}},u.a.createElement("div",{className:te()},u.a.createElement(B,null),u.a.createElement(x,{counter:m}),u.a.createElement(ee,null),u.a.createElement(Y,{className:te("FridayIcon"),onIconClick:function(){return a({type:R.chooseCounter,payload:{id:void 0}})},name:"flame"}))))},null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.51d86fea.chunk.js.map