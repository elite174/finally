{"version":3,"sources":["typings/index.ts","utils/i18n.ts","utils/index.ts","components/Countdown/Countdown.i18n/ru.ts","common/common.i18n/ru.ts","store/ColorStore/typings/index.ts","context/LanguageContext.ts","components/Counter/Counter.tsx","components/Divider/Divider.tsx","components/Countdown/Countdown.tsx","store/ColorStore/ColorStore.ts","store/SettingsStore/typings/index.ts","store/SettingsStore/SettingsStore.ts","store/CounterStore/CounterStore.typings/index.ts","store/CounterStore/CounterStore.tsx","store/index.ts","store/utils/index.ts","storage/index.ts","context/StoreContext.ts","components/Theme/Theme.tsx","components/Icon/Icon.tsx","components/DateInput/DateInput.tsx","components/TextInput/TextInput.tsx","components/Button/index.tsx","components/Checkbox/Checkbox.tsx","components/DateForm/DateForm.tsx","components/CounterList/Counter/CounterList-Counter.tsx","components/CounterList/CounterList.tsx","components/TabPanel/TabPanel.tsx","components/Sidebar/Sidebar.tsx","components/App/App.tsx","index.tsx"],"names":["Days","Locales","getCurrentDay","DateTime","local","getDifference","targetDate","currentDate","diff","createDate","date","fromSQL","setStartOfDay","startOf","noop","ru","finally","in","event","finished","days","hours","minutes","seconds","ColorStoreActions","LanguageContext","React","createContext","locale","setLocale","cnCounter","cn","Counter","memo","props","react_default","a","createElement","className","unit","value","cnDivider","Divider","cnCountdown","Countdown","useContext","currentCounter","counter","useMemo","weekday","arguments","length","undefined","friday","set","getWeekday","targetNextDate","nextDay","plus","getNextWeekday","isFinished","isToday","hasSame","_useState","useState","_useState2","Object","slicedToArray","time","setTime","_useState3","_useState4","setFinished","_useState5","_useState6","today","setToday","lang","langset","commonLang","commonLangset","useEffect","intervalTimerId","computeTime","window","setInterval","clearInterval","template","remainingTime","toFormat","split","eventName","text","concat","Fragment","Divider_Divider","Counter_Counter","Number","SettingsStoreActionTypes","CounterStoreActionTypes","initialState","colorStore","primary","settingsStore","withMonths","withYears","counterStore","counters","currentCounterId","rootReducer","_len","reducers","Array","_key","state","action","store","result","_arr","_i","reducer","localStorage","setItem","JSON","stringify","createReducer","produce","draft","type","change","payload","toggleMonths","toggleYears","add","push","id","Math","random","remove","filter","changeRepeat","find","repeatable","chooseCounter","StoreContext","dispatch","Theme","cssVars","cnIcon","Icon","onIconClick","style","_props$iconStyle","iconStyle","name","title","onClick","cnDateInput","DateInput","forwardRef","caption","_props$onChange","onChange","tabIndex","ref","defaultValue","toSQLDate","cnTextInput","TextInput","placeholder","cnButton","Button","onButtonClick","icon","disabled","Icon_Icon","assign","cnCheckbox","cnDateForm","label","DateForm","buttonDisabled","setButtonDisabled","titleRef","createRef","dateRef","onInputChange","current","isValid","TextInput_TextInput","DateInput_DateInput","Button_Button","CounterListCounter","cnCounterList","active","e","stopPropagation","CounterList","_useContext","toConsumableArray","sort","b","map","key","cnTabPanel","TabPanel","tabs","tab","index","Boolean","content","cnSidebar","Sidebar","activeTab","setActiveTab","sidebarOpened","setSidebarOpened","timerPage","CounterList_CounterList","DateForm_DateForm","opened","TabPanel_TabPanel","cnApp","ReactDOM","render","_useReducer","useReducer","_useReducer2","c","Provider","Countdown_Countdown","Sidebar_Sidebar","document","getElementById"],"mappings":"igBAAYA,8PCAAC,SCGCC,EAAgB,kBAAMC,WAASC,SAI/BC,EAAgB,SAACC,EAAsBC,GAClD,OAAOD,EAAWE,KAAKD,IAGZE,EAAa,SAACC,GAAD,OAAkBP,WAASQ,QAAQD,IAKhDE,EAAgB,SAACF,GAAD,OAAoBA,EAAKG,QAAQ,QAmBjDC,EAAO,aCnCPC,EAAK,CACdC,QAAS,0DACTC,GAAI,iCACJC,MAAO,6CACPC,SAAU,mFCJDJ,EAAK,CACdK,KAAM,qBACNC,MAAO,2BACPC,QAAS,uCACTC,QAAS,wDHJDtB,yBAIL,IIAKuB,ECKCC,EAAkBC,IAAMC,cAAgC,CAAEC,OAAQ3B,EAAQc,GAAIc,UAAWf,ICJhGgB,SAAYC,aAAG,YAORC,EAAmCN,IAAMO,KAAK,SAAAC,GAAK,OAC5DC,EAAAC,EAAAC,cAAA,OAAKC,UAAWR,KACZK,EAAAC,EAAAC,cAAA,OAAKC,UAAWR,EAAU,SAAUI,EAAMK,MAC1CJ,EAAAC,EAAAC,cAAA,OAAKC,UAAWR,EAAU,UAAWI,EAAMM,UCT7CC,SAAYV,aAAG,YAERW,EAAqChB,IAAMO,KAAK,SAACC,GAAD,OACzDC,EAAAC,EAAAC,cAAA,OAAKC,UAAWG,EAAU,KAAM,CAACP,EAAMI,gBCK9BK,SAAcZ,aAAG,cAMjBa,EAAuClB,IAAMO,KAAK,SAACC,GAAU,IAChEN,EAAWiB,qBAAWpB,GAAtBG,OACFkB,EAAiBZ,EAAMa,QAEzBxC,EAAcyC,kBAAQ,kBAAM9C,KAAiB,IAC3CI,EAAa0C,kBAAQ,kBAAMF,EAAiBrC,EAAWqC,EAAepC,MPNpD,SAACH,GAAD,IAAwB0C,EAAxBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAwClD,EAAKqD,OAA7C,OACxBzC,EAAcL,EAAY+C,IAAI,CAAEL,aOKoDM,CAAWhD,IAAc,CAACuC,IACxGU,EAAiBR,kBAAQ,kBAAMF,EAAiBrC,EAAWqC,EAAepC,MPApD,SAACH,GAAuD,IAAhC0C,EAAgCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhBlD,EAAKqD,OACrEI,EAAU7C,EAAcL,EAAY+C,IAAI,CAAEL,aAK9C,OAJIQ,EAAUlD,IACZkD,EAAU7C,EAAcL,EAAYmD,KAAK,CAAEtC,KAAM,IAAKkC,IAAI,CAAEL,cAGvDQ,EONiFE,CAAepD,IAAc,CAACuC,IAClHc,EAAarD,EAAciD,EAC3BK,EAAUvD,EAAWwD,QAAQvD,EAAa,OAR0BwD,EAUhDC,mBAAS,kBAAM3D,EAAcmD,EAAgBjD,KAVG0D,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAUjEK,EAViEH,EAAA,GAU3DI,EAV2DJ,EAAA,GAAAK,EAWxCN,mBAAS,kBAAMJ,IAXyBW,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAWjEnD,EAXiEoD,EAAA,GAWvDC,EAXuDD,EAAA,GAAAE,EAY9CT,mBAAS,kBAAMH,IAZ+Ba,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAYjEE,EAZiED,EAAA,GAY1DE,EAZ0DF,EAAA,GAclEG,EAAOC,EAAQlD,GACfmD,EAAa/B,kBAAQ,kBAAMgC,EAAcpD,IAAS,CAACA,IAEzDqD,oBAAU,WACR,IAcIC,EAdEC,EAAc,WAClB5E,EAAcL,IACd2D,EAAUvD,EAAWwD,QAAQvD,EAAa,OAC1CqD,EAAarD,EAAciD,EAC3Ba,EAAQhE,EAAcmD,EAAgBjD,IAClCqD,IAAezC,GACjBqD,EAAYZ,GAEVC,IAAYc,GACdC,EAASf,IAUb,OANAsB,IAEKvB,IACHsB,EAAkBE,OAAOC,YAAYF,EAAa,MAG7C,kBAAMG,cAAcJ,KAC1B,CAAChD,EAAMa,UAEV,IPxBqBrC,EAA2B6E,EOwB1CC,GPxBe9E,EOwBQ0D,EPxBmBmB,EOwBb,cPxBkC7E,EAAK+E,SAASF,IOwBjCG,MAAM,KAClDC,EAAY3C,kBAAQ,kBAAMF,EAAiBA,EAAe8C,KAAO,8CAAW,CAAC1D,EAAMa,UAEzF,OACEZ,EAAAC,EAAAC,cAAA,OAAKC,UAAWK,KACbgC,GAASxC,EAAAC,EAAAC,cAAA,OAAKC,UAAWK,EAAY,eAA5B,GAAAkD,OAA+ChB,EAAK7D,QAApD,KAAA6E,OAA+DF,EAA/D,OACRhB,GAASxD,GAAYgB,EAAAC,EAAAC,cAAA,OAAKC,UAAWK,EAAY,eAA5B,GAAAkD,OAA+ChB,EAAK3D,MAApD,KAAA2E,OAA6DF,EAA7D,KAAAE,OAA0EhB,EAAK1D,SAA/E,OACrBwD,IAAUxD,GAAYgB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0D,SAAA,KACtB3D,EAAAC,EAAAC,cAAA,OAAKC,UAAWK,EAAY,UAA5B,GAAAkD,OAA0CF,EAA1C,KAAAE,OAAuDhB,EAAK5D,GAA5D,MACAkB,EAAAC,EAAAC,cAAC0D,EAAD,MACA5D,EAAAC,EAAAC,cAAA,OAAKC,UAAWK,EAAY,kBAC1BR,EAAAC,EAAAC,cAAC2D,EAAD,CAASzD,KAAMwC,EAAW3D,KAAMoB,MAAOyD,OAAOT,EAAc,IAAM,IAAM,SAAMA,EAAc,KAC5FrD,EAAAC,EAAAC,cAAC2D,EAAD,CAASzD,KAAMwC,EAAW1D,MAAOmB,MAAOgD,EAAc,KACtDrD,EAAAC,EAAAC,cAAC2D,EAAD,CAASzD,KAAMwC,EAAWzD,QAASkB,MAAOgD,EAAc,KACxDrD,EAAAC,EAAAC,cAAC2D,EAAD,CAASzD,KAAMwC,EAAWxD,QAASiB,MAAOgD,EAAc,2BJtEtDhE,uCKEL,ICCK0E,wGCHL,ICFKC,2JCQL,ICJMC,EAAuB,CAClCC,WLDqC,CACrCC,QAAS,KKCTC,cHJ2C,CACzCC,YAAY,EACZC,WAAW,GGGbC,aDCyC,CACvCC,SAAU,GACVC,iBAAkB,ICATC,ECRgB,WAAgE,QAAAC,EAAA5D,UAAAC,OAA5D4D,EAA4D,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAA5DF,EAA4DE,GAAA/D,UAAA+D,GACzF,OAAO,SAACC,EAAeC,GAGnB,IAFA,ICDsBC,EDClBC,EAASH,EADyBI,EAGlBP,EAApBQ,EAAA,EAAAA,EAAAD,EAAAnE,OAAAoE,IACIF,GAASG,EADGF,EAAAC,IACKF,EAAQF,GAK7B,OCTsBC,EDORC,ECNlBjC,OAAOqC,aAAaC,QAHP,WAGyBC,KAAKC,UAAUR,IDQ1CC,GDFYQ,CLFC,SAACX,EAAeC,GAAhB,OAAyCW,YAAQZ,EAAO,SAAAa,GAClF,OAAQZ,EAAOa,MACb,KAAKxG,EAAkByG,OAErB,OADAF,EAAM1B,WAAWC,QAAUa,EAAOe,QAC3BH,EACT,QACE,OAAOA,MEPkB,SAACb,EAAeC,GAAhB,OAAmCW,YAAQZ,EAAO,SAAAa,GAC7E,OAAQZ,EAAOa,MACX,KAAK9B,EAAyBiC,aAE1B,OADAJ,EAAMxB,cAAcC,YAAcuB,EAAMxB,cAAcC,WAC/CuB,EACX,KAAK7B,EAAyBkC,YAG1B,OAFAL,EAAMxB,cAAcC,YAAcuB,EAAMxB,cAAcE,WAAasB,EAAMxB,cAAcC,WACvFuB,EAAMxB,cAAcE,WAAasB,EAAMxB,cAAcE,UAC9CsB,EACX,QACI,OAAOA,MEJW,SAACb,EAAeC,GAAhB,OAAmCW,YAAQZ,EAAO,SAAAa,GAC5E,OAAQZ,EAAOa,MACX,KAAK7B,EAAwBkC,IAMzB,OALAN,EAAMrB,aAAaC,SAAS2B,KAAK,CAC7BC,GAAIC,KAAKC,SACT7C,KAAOuB,EAA4Be,QAAQtC,KAC3ClF,KAAOyG,EAA4Be,QAAQxH,OAExCqH,EACX,KAAK5B,EAAwBuC,OAGzB,OAFAX,EAAMrB,aAAaC,SAAWoB,EAAMrB,aAAaC,SAC5CgC,OAAO,SAAA5F,GAAO,OAAIA,EAAQwF,KAAQpB,EAA+Be,UAC/DH,EACX,KAAK5B,EAAwByC,aACzB,IAAM7F,EAAUgF,EAAMrB,aAAaC,SAASkC,KAAK,SAAA9F,GAAO,OAAIA,EAAQwF,KAAOpB,EAAOe,QAAQK,KAK1F,OAJIxF,IACAA,EAAQ+F,YAAc/F,EAAQ+F,YAG3Bf,EACX,KAAK5B,EAAwB4C,cAEzB,OADAhB,EAAMrB,aAAaE,iBAAmBX,OAAOkB,EAAOe,QAAQK,IACrDR,EACX,QACI,OAAOb,OI7BN8B,EAAetH,IAAMC,cAA6B,CAAEyF,MAAOhB,EAAc6C,SAAUnI,ICPnFoI,SAAQxH,IAAMO,KAAK,WAAM,IAC1BmF,EAAUvE,qBAAWmG,GAArB5B,MACF+B,EAAO,8CAAAtD,OAEWuB,EAAMf,WAAWC,QAF5B,eAKb,OACInE,EAAAC,EAAAC,cAAA,aACK8G,MCEPC,SAASrH,aAAG,SAELsH,EAA6B3H,IAAMO,KAAK,SAAAC,GAAS,IAClDoH,EAA0DpH,EAA1DoH,YAAaC,EAA6CrH,EAA7CqH,MADqCC,EACQtH,EAAtCuH,iBAD8B,IAAAD,EAClB,KADkBA,EACZE,EAAoBxH,EAApBwH,KAAMpH,EAAcJ,EAAdI,UAEpD,OACIH,EAAAC,EAAAC,cAAA,KACIsH,MAAM,6EACNC,QAASN,EACTC,MAAOA,EACPjH,UAAW8G,EAAO,KAAM,QAAAvD,OAAQ4D,EAAR,KAAA5D,OAAqB6D,GAAQpH,QChB3DuH,SAAc9H,aAAG,cASV+H,EAAuCpI,IAAMO,KAAK,SAACC,GAAU,IAC9D6H,EAA+C7H,EAA/C6H,WAAYC,EAAmC9H,EAAnC8H,QAAStJ,EAA0BwB,EAA1BxB,KADyCuJ,EACf/H,EAApBgI,gBADmC,IAAAD,EACxBnJ,EADwBmJ,EAGtE,OACI9H,EAAAC,EAAAC,cAAA,OAAKC,UAAWuH,EAAY,KAAM,CAAC3H,EAAMI,aACrCH,EAAAC,EAAAC,cAAA,SAAOC,UAAWuH,EAAY,UAAWG,GACzC7H,EAAAC,EAAAC,cAAA,SACI2F,KAAK,OACLmC,UAAW,EACXC,IAAKL,EACLM,aAAe3J,GAAQA,EAAK4J,aAAgB,GAC5ChI,UAAWuH,EAAY,SACvBK,SAAUA,OCfpBK,SAAcxI,aAAG,cAEVyI,EAAuC9I,IAAMO,KAAK,SAAAC,GAAS,IAC5DmI,EAA6DnI,EAA7DmI,aAAcN,EAA+C7H,EAA/C6H,WAAYC,EAAmC9H,EAAnC8H,QAASS,EAA0BvI,EAA1BuI,YAAaP,EAAahI,EAAbgI,SAExD,OACI/H,EAAAC,EAAAC,cAAA,OAAKC,UAAWiI,EAAY,KAAM,CAACrI,EAAMI,aACrCH,EAAAC,EAAAC,cAAA,SAAOC,UAAWiI,EAAY,UAAWP,GACzC7H,EAAAC,EAAAC,cAAA,SAAO8H,UAAW,EAAGD,SAAUA,EAAU5H,UAAWiI,EAAY,SAAUF,aAAcA,EAAcD,IAAKL,EAAYU,YAAaA,OCNnIC,SAAW3I,aAAG,WAEd4I,EAAiCjJ,IAAMO,KAAK,SAAAC,GAAS,IACxDI,EAAmDJ,EAAnDI,UAAWsI,EAAwC1I,EAAxC0I,cAAehF,EAAyB1D,EAAzB0D,KAAMiF,EAAmB3I,EAAnB2I,KAAMC,EAAa5I,EAAb4I,SAC9C,OACE3I,EAAAC,EAAAC,cAAA,UACEyI,SAAUA,EACVxI,UAAWoI,EAAS,CAAEI,YAAY,CAACxI,IACnCsH,QAASgB,GACRhF,EACAiF,GAAQ1I,EAAAC,EAAAC,cAAC0I,EAAD7G,OAAA8G,OAAA,GAAUH,EAAV,CAAgBvI,UAAWoI,EAAS,cCb7CO,eAAalJ,aAAG,aCGhBmJ,GDD4CxJ,IAAMO,KAAK,SAAAC,GAAK,OAC9DC,EAAAC,EAAAC,cAAA,OAAKC,UAAW2I,EAAW,KAAM,CAAC/I,EAAMI,aACpCH,EAAAC,EAAAC,cAAA,SAAOC,UAAW2I,EAAW,UAAW/I,EAAMiJ,OAC9ChJ,EAAAC,EAAAC,cAAA,SACIC,UAAW2I,EAAW,SACtBf,SAAUhI,EAAMgI,SAChBlC,KAAK,WACLoC,IAAKlI,EAAM6H,gBCNJhI,aAAG,aAETqJ,EAAsC1J,IAAMO,KAAK,SAACC,GAAU,IAC7D+G,EAAapG,qBAAWmG,GAAxBC,SAD6DlF,EAEzBC,oBAAS,GAFgBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAE9DsH,EAF8DpH,EAAA,GAE9CqH,EAF8CrH,EAAA,GAI/DsH,EAAW7J,IAAM8J,YACjBC,EAAU/J,IAAM8J,YAchBE,GAbYhK,IAAM8J,YAaF,WAClB,GAAKC,EAAQE,SAAYJ,EAASI,QAAlC,CAIA,IAAMrL,EAAaH,WAASQ,QAAQ8K,EAAQE,QAAQnJ,OAC9CjC,EAAcL,IACpB,IACKI,EAAWsL,SACZtL,EAAaC,GACc,KAA3BgL,EAASI,QAAQnJ,OAEjB,IAAK6I,EAED,YADAC,GAAkB,QAItB,GAAID,EAEA,YADAC,GAAkB,MAuB9B,OACInJ,EAAAC,EAAAC,cAAA,OAAKC,UAAW4I,EAAW,KAAM,CAAChJ,EAAMI,aACpCH,EAAAC,EAAAC,cAACwJ,EAAD,CACI3B,SAAUwB,EACVpJ,UAAW4I,EAAW,SACtBnB,WAAYwB,EACZvB,QAAS,yIACTS,YAAY,uGAEhBtI,EAAAC,EAAAC,cAACyJ,EAAD,CACI5B,SAAUwB,EACVpJ,UAAW4I,EAAW,SACtBnB,WAAY0B,EACZzB,QAAS,sEACTtJ,KAAMR,OAET,EAQDiC,EAAAC,EAAAC,cAAC0J,EAAD,CACInG,KAAK,mDACLgF,cA3CU,WAClB,GAAKa,EAAQE,SAAYJ,EAASI,QAAlC,CAIA,IAAMrL,EAAaH,WAASQ,QAAQ8K,EAAQE,QAAQnJ,OAEpDyG,EAAS,CACLjB,KAAM7B,EAAwBkC,IAC9BH,QAAS,CACLtC,KAAM2F,EAASI,QAAQnJ,MACvB9B,KAAMJ,EAAWgK,eA7CpBmB,EAAQE,SAAYJ,EAASI,UAIlCJ,EAASI,QAAQnJ,MAAQ,GACzBiJ,EAAQE,QAAQnJ,MAAQtC,IAAgBoK,aAAe,GACvDoB,OAwEQZ,SAAUO,cC3FbW,eAAyDtK,IAAMO,KAAK,SAACC,GAM9E,OACIC,EAAAC,EAAAC,cAAA,OAAKuH,QAAS1H,EAAM0H,QAAStH,UAAW2J,EAAc,UAAW,CAAEC,OAAQhK,EAAMgK,UAC7E/J,EAAAC,EAAAC,cAAA,OAAKC,UAAW2J,EAAc,UAAW/J,EAAM0D,MAC/CzD,EAAAC,EAAAC,cAAA,OAAKC,UAAW2J,EAAc,SAAU/J,EAAMxB,MAC9CyB,EAAAC,EAAAC,cAAC0I,EAAD,CAAMzB,YATQ,SAAC6C,GACnBA,EAAEC,kBACFlK,EAAMwG,UAOgCgB,KAAK,QAAQpH,UAAW2J,EAAc,sBChBvEA,EAAgBlK,aAAG,eAEnBsK,EAAc3K,IAAMO,KAAK,WAAM,IAAAqK,EACZzJ,qBAAWmG,GAA/B5B,EADgCkF,EAChClF,MAAO6B,EADyBqD,EACzBrD,SACTtC,EAAQzC,OAAAqI,EAAA,EAAArI,CAAOkD,EAAMV,aAAaC,UAExC,OACIxE,EAAAC,EAAAC,cAAA,OAAKC,UAAW2J,KACS,IAApBtF,EAASxD,QAAgBhB,EAAAC,EAAAC,cAAA,OAAKC,UAAW2J,EAAc,gBAA9B,gJACzBtF,EAAS6F,KAAK,SAACpK,EAAGqK,GAAJ,OAAUrK,EAAE1B,KAAO+L,EAAE/L,MAAQ,EAAI,IAAGgM,IAAI,SAAA3J,GAAO,OAC1DZ,EAAAC,EAAAC,cAAC2J,EAAD,CACIW,IAAK5J,EAAQwF,GACbqB,QAAS,kBAAMX,EAAS,CAAEjB,KAAM7B,EAAwB4C,cAAeb,QAAS,CAAEK,GAAIxF,EAAQwF,OAC9FG,OAAQ,kBAAMO,EAAS,CAAEjB,KAAM7B,EAAwBuC,OAAQR,QAASnF,EAAQwF,MAChF2D,OAAQnJ,EAAQwF,KAAOnB,EAAMV,aAAaE,iBAC1ChB,KAAM7C,EAAQ6C,KACdlF,KAAMqC,EAAQrC,YCP5BkM,SAAa7K,aAAG,aAET8K,EAAqCnL,IAAMO,KAAK,SAAAC,GACzD,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAWsK,EAAW,KAAM,CAAC1K,EAAMI,aACpCH,EAAAC,EAAAC,cAAA,OAAKC,UAAWsK,EAAW,eACtB1K,EAAM4K,KAAKJ,IAAI,SAACK,EAAKC,GAAN,OACZ7K,EAAAC,EAAAC,cAAA,QACIsK,IAAKK,EACL1K,UAAWsK,EAAW,UAAW,CAAEV,OAAQa,EAAIb,SAC/CtC,QAASmD,EAAInD,SAAUmD,EAAInH,SAGvCzD,EAAAC,EAAAC,cAAA,OAAKC,UAAWsK,EAAW,YACtB1K,EAAM4K,KAAKjE,KAAK,SAAAkE,GAAG,OAAIE,QAAQF,EAAIb,UAAUgB,YCpBjDC,SAAYpL,aAAG,YAMfqL,GAAmC1L,IAAMO,KAAK,WAAM,IAI3CkI,EAJ2CpG,EAC7BC,mBAAS,GADoBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACxDsJ,EADwDpJ,EAAA,GAC7CqJ,EAD6CrJ,EAAA,GAAAK,EAErBN,oBAAS,GAFYO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAExDiJ,EAFwDhJ,EAAA,GAEzCiJ,EAFyCjJ,EAAA,GAUzDkJ,EAAYtL,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0D,SAAA,KAChB3D,EAAAC,EAAAC,cAACqL,EAAD,MACAvL,EAAAC,EAAAC,cAAC0D,EAAD,CAASzD,UAAW6K,EAAU,UAC9BhL,EAAAC,EAAAC,cAACsL,EAAD,CAAUrL,UAAW6K,EAAU,aAGjC,OACEhL,EAAAC,EAAAC,cAAA,OAAKC,UAAW6K,EAAU,CAAES,OAAQL,KAClCpL,EAAAC,EAAAC,cAAC0I,EAAD,CAAMrB,KAAK,WAAWpH,UAAW6K,EAAU,QAAS7D,YAZhC,WACtBkE,GAAkBD,MAYhBpL,EAAAC,EAAAC,cAACwL,EAAD,CACEf,KAAM,CACJ,CACEI,QAASO,EACT7H,KAAM,6CACNgE,SApBUO,EAoBU,EApBW,kBAAMmD,EAAanD,KAqBlD+B,OAAsB,IAAdmB,SC3BdS,GAAQ/L,aAAG,aCTjBgM,IAASC,OAAO7L,EAAAC,EAAAC,cDWG,WAAM,IAAA4L,EACGC,qBAAWrH,EAAaT,GAD3B+H,EAAAjK,OAAAC,EAAA,EAAAD,CAAA+J,EAAA,GAChB7G,EADgB+G,EAAA,GACTlF,EADSkF,EAAA,GAAApK,EAEKC,mBAAS/D,EAAQc,IAFtBkD,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEhBnC,EAFgBqC,EAAA,GAERpC,EAFQoC,EAAA,GAGjBnB,EAAiBsE,EAAMV,aAAaC,SAASkC,KAAK,SAAAuF,GAAC,OAAIA,EAAE7F,KAAOnB,EAAMV,aAAaE,mBAIzF,OACEzE,EAAAC,EAAAC,cAACZ,EAAgB4M,SAAjB,CAA0B7L,MAAO,CAAEZ,SAAQC,cACzCM,EAAAC,EAAAC,cAAC2G,EAAaqF,SAAd,CAAuB7L,MAAO,CAAE4E,QAAO6B,aACrC9G,EAAAC,EAAAC,cAAA,OAAKC,UAAWwL,MACd3L,EAAAC,EAAAC,cAAC6G,EAAD,MACA/G,EAAAC,EAAAC,cAACiM,EAAD,CAAWvL,QAASD,IACpBX,EAAAC,EAAAC,cAACkM,GAAD,MACApM,EAAAC,EAAAC,cAAC0I,EAAD,CAAMzI,UAAWwL,GAAM,cAAexE,YATpB,kBAAML,EAAS,CAAEjB,KAAM7B,EAAwB4C,cAAeb,QAAS,CAAEK,QAAInF,MASzBsG,KAAK,cCzBrE,MAAS8E,SAASC,eAAe","file":"static/js/main.51d86fea.chunk.js","sourcesContent":["export enum Days {\n  monday = 1,\n  tuesday = 2,\n  wednesday = 3,\n  thursday = 4,\n  friday = 5,\n  saturday = 6,\n  sunday = 0\n};\n\nexport interface IClassNameProps {\n  className?: string;\n};","export enum Locales {\n    ru = 'ru'\n};\n\nexport const useLang = (langset: Record<string, object>, locale = Locales.ru) => {\n    return langset[locale];\n};\n\n","import { Days } from '../typings';\nimport { DateTime, Duration } from 'luxon';\n\nexport const getCurrentDay = () => DateTime.local();\n/**\n * Returns the difference between two dates\n */\nexport const getDifference = (targetDate: DateTime, currentDate: DateTime) => {\n  return targetDate.diff(currentDate);\n}\n\nexport const createDate = (date: string) => DateTime.fromSQL(date);\n\n/**\n * Returns the beginning of the day\n */\nexport const setStartOfDay = (date: DateTime) => date.startOf('day');\n\n\nexport const getWeekday = (currentDate: DateTime, weekday: Days = Days.friday) => (\n  setStartOfDay(currentDate.set({ weekday }))\n);\n\n/**\n * Returns the next day [e.g. next friday, next tueday] of a week \n */\nexport const getNextWeekday = (currentDate: DateTime, weekday: Days = Days.friday) => {\n  let nextDay = setStartOfDay(currentDate.set({ weekday }));\n  if (nextDay < currentDate) {\n    nextDay = setStartOfDay(currentDate.plus({ days: 7 }).set({ weekday }));\n  }\n\n  return nextDay;\n}\n\nexport const noop = () => { };\nexport const format = (date: DateTime | Duration, template: string) => date.toFormat(template);\n","export const ru = {\n    finally: 'наконец-то',\n    in: 'через',\n    event: 'событие',\n    finished: 'уже состоялось'\n};","export const ru = {\n    days: 'дни',\n    hours: 'часы',\n    minutes: 'минуты',\n    seconds: 'секунды'\n};","export interface IColorStore {\n    primary: number;\n}\n\nexport enum ColorStoreActions {\n    change = 'color:change'\n}","import React from 'react';\nimport { noop } from '../utils';\nimport { Locales } from '../utils/i18n';\n\ninterface ILanguageContext {\n    locale: Locales;\n    setLocale(locale: Locales): void;\n}\n\nexport const LanguageContext = React.createContext<ILanguageContext>({ locale: Locales.ru, setLocale: noop });","import React from 'react';\n\nimport './Counter.scss';\nimport { cn } from 'recn';\n\nconst cnCounter = cn('Counter');\n\ninterface ICounterProps {\n    value: string | number;\n    unit: string;\n}\n\nexport const Counter: React.FC<ICounterProps> = React.memo(props => (\n    <div className={cnCounter()}>\n        <div className={cnCounter('Unit')}>{props.unit}</div>\n        <div className={cnCounter('Value')}>{props.value}</div>\n    </div>\n));","import React from 'react';\nimport { cn } from 'recn';\n\nimport './Divider.scss';\nimport { IClassNameProps } from '../../typings';\n\nconst cnDivider = cn('Divider');\n\nexport const Divider: React.FC<IClassNameProps> = React.memo((props) => (\n    <div className={cnDivider(null, [props.className])} />\n));","import React, { useState, useEffect, useContext, useMemo } from 'react';\nimport { cn } from 'recn';\n\nimport { getDifference, getCurrentDay, getNextWeekday, format, getWeekday, createDate } from '../../utils';\nimport * as langset from './Countdown.i18n';\nimport * as commonLangset from '../../common/common.i18n';\nimport { ICounter } from '../../store/CounterStore/CounterStore.typings';\nimport { LanguageContext } from '../../context/LanguageContext';\nimport { Counter } from '../Counter/Counter';\nimport { IClassNameProps } from '../../typings';\nimport { Divider } from '../Divider/Divider';\n\nimport './Countdown.scss';\n\nexport const cnCountdown = cn('Countdown');\n\ninterface ICountdownProps extends IClassNameProps {\n  counter?: ICounter;\n}\n\nexport const Countdown: React.FC<ICountdownProps> = React.memo((props) => {\n  const { locale } = useContext(LanguageContext);\n  const currentCounter = props.counter;\n\n  let currentDate = useMemo(() => getCurrentDay(), []);\n  const targetDate = useMemo(() => currentCounter ? createDate(currentCounter.date) : getWeekday(currentDate), [currentCounter]);\n  const targetNextDate = useMemo(() => currentCounter ? createDate(currentCounter.date) : getNextWeekday(currentDate), [currentCounter]);\n  let isFinished = currentDate > targetNextDate;\n  let isToday = targetDate.hasSame(currentDate, 'day');\n\n  const [time, setTime] = useState(() => getDifference(targetNextDate, currentDate));\n  const [finished, setFinished] = useState(() => isFinished);\n  const [today, setToday] = useState(() => isToday);\n\n  const lang = langset[locale];\n  const commonLang = useMemo(() => commonLangset[locale], [locale]);\n\n  useEffect(() => {\n    const computeTime = () => {\n      currentDate = getCurrentDay();\n      isToday = targetDate.hasSame(currentDate, 'day');\n      isFinished = currentDate > targetNextDate;\n      setTime(getDifference(targetNextDate, currentDate));\n      if (isFinished !== finished) {\n        setFinished(isFinished);\n      }\n      if (isToday !== today) {\n        setToday(isToday);\n      }\n    }\n\n    computeTime();\n    let intervalTimerId: number;\n    if (!isFinished) {\n      intervalTimerId = window.setInterval(computeTime, 1000);\n    }\n\n    return () => clearInterval(intervalTimerId);\n  }, [props.counter]);\n\n  const remainingTime = format(time, 'dd,hh,mm,ss').split(',');\n  const eventName = useMemo(() => currentCounter ? currentCounter.text : 'пятница', [props.counter]);\n\n  return (\n    <div className={cnCountdown()}>\n      {today && <div className={cnCountdown('FinalTitle')}>{`${lang.finally} ${eventName}!`}</div>}\n      {!today && finished && <div className={cnCountdown('FinalTitle')}>{`${lang.event} ${eventName} ${lang.finished}!`}</div>}\n      {!today && !finished && <>\n        <div className={cnCountdown('Title')}>{`${eventName} ${lang.in}:`}</div>\n        <Divider />\n        <div className={cnCountdown('RemainingTime')}>\n          <Counter unit={commonLang.days} value={Number(remainingTime[0]) > 999 ? '∞' : remainingTime[0]} />\n          <Counter unit={commonLang.hours} value={remainingTime[1]} />\n          <Counter unit={commonLang.minutes} value={remainingTime[2]} />\n          <Counter unit={commonLang.seconds} value={remainingTime[3]} />\n        </div>\n      </>\n      }\n    </div>\n  );\n});","import { IState } from \"../typings\";\nimport produce from 'immer';\n\nimport { IColorStore, ColorStoreActions } from './typings';\nimport { ColorActions } from \"./actions\";\n\nexport const ColorStore: IColorStore = {\n  primary: 250\n}\n\nexport const colorReducer = (state: IState, action: ColorActions) => produce(state, draft => {\n  switch (action.type) {\n    case ColorStoreActions.change:\n      draft.colorStore.primary = action.payload;\n      return draft;\n    default:\n      return draft;\n  }\n});","export interface ISettingsStore {\n    /** Display months */\n    withMonths: boolean;\n    /** Display years */\n    withYears: boolean;\n}\n\nexport enum SettingsStoreActionTypes {\n    toggleMonths = 'settings:toggleMonths',\n    toggleYears = 'settings: toggleYears'\n}","import { ISettingsStore, SettingsStoreActionTypes } from \"./typings\";\nimport { IState, Action } from \"../typings\";\nimport produce from \"immer\";\n\nexport const SettingsStore: ISettingsStore = {\n    withMonths: false,\n    withYears: false,\n}\n\nexport const settingsReducer = (state: IState, action: Action) => produce(state, draft => {\n    switch (action.type) {\n        case SettingsStoreActionTypes.toggleMonths:\n            draft.settingsStore.withMonths = !draft.settingsStore.withMonths\n            return draft;\n        case SettingsStoreActionTypes.toggleYears:\n            draft.settingsStore.withMonths = !draft.settingsStore.withYears || draft.settingsStore.withMonths;\n            draft.settingsStore.withYears = !draft.settingsStore.withYears;\n            return draft;\n        default:\n            return draft;\n    }\n});","import { Action } from \"../../typings\";\n\nexport enum CounterStoreActionTypes {\n    add = 'counters:add',\n    remove = 'counters:remove',\n    changeRepeat = 'counters:changeRepeat',\n    chooseCounter = 'counters:chooseCounter',\n}\n\nexport interface ICounter {\n    date: string;\n    text: string;\n    id: number;\n    repeatable?: boolean;\n}\n\nexport interface CounterAddAction extends Action {\n    payload: {\n        text: string;\n        date: string;\n    }\n};\n\nexport interface CounterRemoveAction extends Action {\n    payload: number;\n}","import produce from \"immer\";\n\nimport { IState, Action } from \"../typings\";\nimport { CounterStoreActionTypes, CounterAddAction, CounterRemoveAction, ICounter } from \"./CounterStore.typings\";\n\nexport interface ICounterStore {\n    counters: ICounter[];\n    currentCounterId?: number;\n}\n\nexport const CounterStore: ICounterStore = {\n    counters: [],\n    currentCounterId: 0,\n}\n\nexport const counterReducer = (state: IState, action: Action) => produce(state, draft => {\n    switch (action.type) {\n        case CounterStoreActionTypes.add:\n            draft.counterStore.counters.push({\n                id: Math.random(),\n                text: (action as CounterAddAction).payload.text,\n                date: (action as CounterAddAction).payload.date,\n            });\n            return draft;\n        case CounterStoreActionTypes.remove:\n            draft.counterStore.counters = draft.counterStore.counters\n                .filter(counter => counter.id !== (action as CounterRemoveAction).payload);\n            return draft;\n        case CounterStoreActionTypes.changeRepeat:\n            const counter = draft.counterStore.counters.find(counter => counter.id === action.payload.id);\n            if (counter) {\n                counter.repeatable = !counter.repeatable\n            }\n\n            return draft;\n        case CounterStoreActionTypes.chooseCounter:\n            draft.counterStore.currentCounterId = Number(action.payload.id);\n            return draft;\n        default:\n            return state;\n    }\n});","import { IState } from './typings';\nimport { createReducer } from \"./utils\";\nimport { ColorStore, colorReducer } from \"./ColorStore/ColorStore\";\nimport { settingsReducer, SettingsStore } from \"./SettingsStore/SettingsStore\";\nimport { CounterStore, counterReducer } from \"./CounterStore/CounterStore\";\n\nexport const initialState: IState = {\n  colorStore: ColorStore,\n  settingsStore: SettingsStore,\n  counterStore: CounterStore,\n}\n\nexport const rootReducer = createReducer(\n  colorReducer,\n  settingsReducer,\n  counterReducer,\n);","import { Action, IState } from \"../typings\";\nimport { saveToStorage } from \"../../storage\";\n\n\nexport const createReducer = (...reducers: ((state: IState, action: Action) => IState)[]) => {\n    return (state: IState, action: Action) => {\n        let result = state;\n\n        for (let reducer of reducers) {\n            result = reducer(result, action);\n        }\n\n        saveToStorage(result);\n\n        return result;\n    }\n};","import { IState } from '../store/typings';\nimport { initialState } from '../store';\n\nconst storeKey = 'ffStore$';\n\nexport const saveToStorage = (store: IState) => {\n    window.localStorage.setItem(storeKey, JSON.stringify(store));\n};\n\nexport const loadFromStorage = (): IState => {\n    const storeData = window.localStorage.getItem(storeKey);\n    if (!storeData) {\n        return initialState;\n    }\n\n    let store: Partial<IState>;\n    try {\n        store = JSON.parse(storeData);\n    } catch (err) {\n        return initialState;\n    }\n\n    return {\n        colorStore: store.colorStore\n            ? store.colorStore\n            : initialState.colorStore,\n        counterStore: store.counterStore\n            ? store.counterStore\n            : initialState.counterStore,\n        settingsStore: store.settingsStore\n            ? store.settingsStore\n            : initialState.settingsStore\n    };\n};\n","import React from 'react';\nimport { IState } from '../store/typings';\nimport { initialState } from '../store';\nimport { noop } from '../utils';\n\ninterface IStoreContext {\n    store: IState;\n    dispatch: (args: any) => void;\n}\n\nexport const StoreContext = React.createContext<IStoreContext>({ store: initialState, dispatch: noop });","import React, { useContext } from 'react';\nimport { StoreContext } from '../../context/StoreContext';\n\nexport const Theme = React.memo(() => {\n    const { store } = useContext(StoreContext);\n    const cssVars = `\n        .App{\n            --primaryHue: ${store.colorStore.primary}\n        }`;\n\n    return (\n        <style>\n            {cssVars}\n        </style>\n    );\n});","import React from 'react';\nimport { cn } from 'recn';\n\nimport { IClassNameProps } from '../../typings';\n\nimport './Icon.scss';\n\nexport interface IIconProps extends IClassNameProps {\n    name: string;\n    iconStyle?: 'ios' | 'md';\n    onIconClick?: (e: React.MouseEvent) => void;\n    style?: React.CSSProperties;\n}\n\nconst cnIcon = cn('Icon');\n\nexport const Icon: React.FC<IIconProps> = React.memo(props => {\n    const { onIconClick, style, iconStyle = 'md', name, className } = props;\n\n    return (\n        <i\n            title=\"Когда пятница?\"\n            onClick={onIconClick}\n            style={style}\n            className={cnIcon(null, [`ion-${iconStyle}-${name}`, className])} />\n    );\n});","import React from 'react';\nimport { cn } from 'recn';\nimport { noop } from '../../utils';\n\nimport './DateInput.scss';\nimport { DateTime } from 'luxon';\nimport { IClassNameProps } from '../../typings';\n\nconst cnDateInput = cn('DateInput');\n\ninterface IDateInputProps extends IClassNameProps {\n    caption: string;\n    date?: DateTime;\n    forwardRef: React.RefObject<HTMLInputElement>;\n    onChange?(): void;\n}\n\nexport const DateInput: React.FC<IDateInputProps> = React.memo((props) => {\n    const { forwardRef, caption, date, onChange = noop } = props;\n\n    return (\n        <div className={cnDateInput(null, [props.className])}>\n            <label className={cnDateInput('Label')}>{caption}</label>\n            <input\n                type='date'\n                tabIndex={-1}\n                ref={forwardRef}\n                defaultValue={(date && date.toSQLDate()) || ''}\n                className={cnDateInput('Input')}\n                onChange={onChange}\n            />\n        </div>\n    );\n});\n","import React from 'react';\nimport { cn } from 'recn';\n\nimport './TextInput.scss';\nimport { IClassNameProps } from '../../typings';\n\ninterface ITextInputProps extends IClassNameProps {\n    onChange?(e?: React.ChangeEvent<HTMLInputElement>): void;\n    defaultValue?: string;\n    forwardRef: React.RefObject<HTMLInputElement>;\n    caption: string;\n    placeholder?: string;\n}\n\nconst cnTextInput = cn('TextInput');\n\nexport const TextInput: React.FC<ITextInputProps> = React.memo(props => {\n    const { defaultValue, forwardRef, caption, placeholder, onChange } = props;\n\n    return (\n        <div className={cnTextInput(null, [props.className])}>\n            <label className={cnTextInput('Label')}>{caption}</label>\n            <input tabIndex={-1} onChange={onChange} className={cnTextInput('Input')} defaultValue={defaultValue} ref={forwardRef} placeholder={placeholder} />\n        </div>\n    );\n});","import React from 'react';\nimport { cn } from 'recn';\n\nimport { IIconProps, Icon } from '../Icon/Icon';\nimport { IClassNameProps } from '../../typings';\n\nimport './Button.scss';\n\nexport interface IButtonProps extends IClassNameProps {\n  onButtonClick?: (e: React.MouseEvent) => void;\n  hint?: string;\n  text?: string;\n  icon?: IIconProps;\n  disabled?: boolean;\n}\n\nexport const cnButton = cn('Button');\n\nexport const Button: React.FC<IButtonProps> = React.memo(props => {\n  const { className, onButtonClick, text, icon, disabled } = props;\n  return (\n    <button\n      disabled={disabled}\n      className={cnButton({ disabled }, [className])}\n      onClick={onButtonClick}>\n      {text}\n      {icon && <Icon {...icon} className={cnButton('Icon')} />}\n    </button>\n  );\n}); ","import React from 'react';\nimport { IClassNameProps } from '../../typings';\nimport { cn } from 'recn';\n\nimport './Checkbox.scss';\n\ninterface ICheckboxProps extends IClassNameProps {\n    checked?: boolean;\n    label: string;\n    forwardRef: React.Ref<HTMLInputElement>;\n    onChange?(e: React.ChangeEvent<HTMLInputElement>): void;\n}\n\nconst cnCheckbox = cn('Checkbox');\n\nexport const Checkbox: React.FC<ICheckboxProps> = React.memo(props => (\n    <div className={cnCheckbox(null, [props.className])}>\n        <label className={cnCheckbox('Label')}>{props.label}</label>\n        <input\n            className={cnCheckbox('Input')}\n            onChange={props.onChange}\n            type='checkbox'\n            ref={props.forwardRef} />\n    </div>\n\n))","import React, { useContext, useState } from 'react';\nimport { DateInput } from '../DateInput/DateInput';\nimport { TextInput } from '../TextInput/TextInput';\nimport { Button } from '../Button';\nimport { cn } from 'recn';\nimport { StoreContext } from '../../context/StoreContext';\nimport { getCurrentDay } from '../../utils';\nimport { DateTime } from 'luxon';\nimport {\n    CounterStoreActionTypes,\n    CounterAddAction\n} from '../../store/CounterStore/CounterStore.typings';\nimport './DateForm.scss';\nimport { Checkbox } from '../Checkbox/Checkbox';\nimport { IClassNameProps } from '../../typings';\n\nconst cnDateForm = cn('DateForm');\n\nexport const DateForm: React.FC<IClassNameProps> = React.memo((props) => {\n    const { dispatch } = useContext(StoreContext);\n    const [buttonDisabled, setButtonDisabled] = useState(true);\n\n    const titleRef = React.createRef<HTMLInputElement>();\n    const dateRef = React.createRef<HTMLInputElement>();\n    const repeatRef = React.createRef<HTMLInputElement>();\n\n    const reset = () => {\n        if (!dateRef.current || !titleRef.current) {\n            return;\n        }\n\n        titleRef.current.value = '';\n        dateRef.current.value = getCurrentDay().toSQLDate() || '';\n        onInputChange();\n        //repeatRef.current.checked = false;\n    };\n\n    const onInputChange = () => {\n        if (!dateRef.current || !titleRef.current) {\n            return;\n        }\n\n        const targetDate = DateTime.fromSQL(dateRef.current.value);\n        const currentDate = getCurrentDay();\n        if (\n            !targetDate.isValid ||\n            targetDate < currentDate ||\n            titleRef.current.value === ''\n        ) {\n            if (!buttonDisabled) {\n                setButtonDisabled(true);\n                return;\n            }\n        } else {\n            if (buttonDisabled) {\n                setButtonDisabled(false);\n                return;\n            }\n        }\n    };\n\n    const onButtonClick = () => {\n        if (!dateRef.current || !titleRef.current) {\n            return;\n        }\n\n        const targetDate = DateTime.fromSQL(dateRef.current.value);\n\n        dispatch({\n            type: CounterStoreActionTypes.add,\n            payload: {\n                text: titleRef.current.value,\n                date: targetDate.toSQLDate()\n            }\n        } as CounterAddAction);\n        reset();\n    };\n\n    return (\n        <div className={cnDateForm(null, [props.className])}>\n            <TextInput\n                onChange={onInputChange}\n                className={cnDateForm('Input')}\n                forwardRef={titleRef}\n                caption={'Введите название события'}\n                placeholder='День рождения Саши'\n            />\n            <DateInput\n                onChange={onInputChange}\n                className={cnDateForm('Input')}\n                forwardRef={dateRef}\n                caption={'Введите дату'}\n                date={getCurrentDay()}\n            />\n            {false && (\n                <Checkbox\n                    className={cnDateForm('Input')}\n                    forwardRef={repeatRef}\n                    label={'Повторять?'}\n                    checked={false}\n                />\n            )}\n            <Button\n                text='Добавить'\n                onButtonClick={onButtonClick}\n                disabled={buttonDisabled}\n            />\n        </div>\n    );\n});\n","import React from 'react';\nimport { cnCounterList } from '../CounterList';\n\nimport './CounterList-Counter.scss';\nimport { Icon } from '../../Icon/Icon';\n\ninterface ICounterListCounterProps {\n    onClick(): void;\n    remove(): void;\n    text: string;\n    date: string;\n    active?: boolean;\n}\n\nexport const CounterListCounter: React.FC<ICounterListCounterProps> = React.memo((props) => {\n    const onRemoveClick = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        props.remove();\n    }\n\n    return (\n        <div onClick={props.onClick} className={cnCounterList('Counter', { active: props.active })}>\n            <div className={cnCounterList('Title')}>{props.text}</div>\n            <div className={cnCounterList('Date')}>{props.date}</div>\n            <Icon onIconClick={onRemoveClick} name='trash' className={cnCounterList('RemoveButton')} />\n        </div>\n    )\n});","import React, { useContext } from 'react';\nimport { cn } from 'recn';\nimport { StoreContext } from '../../context/StoreContext';\n\nimport './CounterList.scss';\nimport { CounterStoreActionTypes } from '../../store/CounterStore/CounterStore.typings';\nimport { CounterListCounter } from './Counter/CounterList-Counter';\n\nexport const cnCounterList = cn('CounterList');\n\nexport const CounterList = React.memo(() => {\n    const { store, dispatch } = useContext(StoreContext);\n    const counters = [...store.counterStore.counters];\n\n    return (\n        <div className={cnCounterList()}>\n            {counters.length === 0 && <div className={cnCounterList('Placeholder')}>Нет сохранённых счётчиков</div>}\n            {counters.sort((a, b) => a.date < b.date ? -1 : 0).map(counter => (\n                <CounterListCounter\n                    key={counter.id}\n                    onClick={() => dispatch({ type: CounterStoreActionTypes.chooseCounter, payload: { id: counter.id } })}\n                    remove={() => dispatch({ type: CounterStoreActionTypes.remove, payload: counter.id })}\n                    active={counter.id === store.counterStore.currentCounterId}\n                    text={counter.text}\n                    date={counter.date} />\n            ))}\n        </div>\n    );\n});","import React from 'react';\nimport { IClassNameProps } from '../../typings';\nimport { cn } from 'recn';\n\nimport './TabPanel.scss';\n\ninterface ITabProps {\n    text: string;\n    active?: boolean;\n    onClick(): void;\n    content: JSX.Element | null;\n}\n\ninterface ITabPanelProps extends IClassNameProps {\n    tabs: ITabProps[];\n}\n\nconst cnTabPanel = cn('TabPanel');\n\nexport const TabPanel: React.FC<ITabPanelProps> = React.memo(props => {\n    return (\n        <div className={cnTabPanel(null, [props.className])}>\n            <div className={cnTabPanel('Navigation')}>\n                {props.tabs.map((tab, index) => (\n                    <span\n                        key={index}\n                        className={cnTabPanel('TabText', { active: tab.active })}\n                        onClick={tab.onClick}>{tab.text}</span>\n                ))}\n            </div>\n            <div className={cnTabPanel('Content')}>\n                {props.tabs.find(tab => Boolean(tab.active))!.content}\n            </div>\n        </div>\n    )\n});","import React, { useState } from 'react';\nimport { cn } from 'recn';\n\nimport { Icon } from '../Icon/Icon';\nimport { DateForm } from '../DateForm/DateForm';\nimport { CounterList } from '../CounterList/CounterList';\nimport { TabPanel } from '../TabPanel/TabPanel';\nimport { Divider } from '../Divider/Divider';\n\nimport './Sidebar.scss';\n\nexport const cnSidebar = cn('Sidebar');\n\ninterface ISidebarProps {\n  opened?: boolean;\n}\n\nexport const Sidebar: React.FC<ISidebarProps> = React.memo(() => {\n  const [activeTab, setActiveTab] = useState(0);\n  const [sidebarOpened, setSidebarOpened] = useState(false);\n\n  const onTabClick = (tabIndex: number) => () => setActiveTab(tabIndex);\n\n  const onSettingsClick = () => {\n    setSidebarOpened(!sidebarOpened);\n  }\n\n  const timerPage = <>\n    <CounterList />\n    <Divider className={cnSidebar('Item')} />\n    <DateForm className={cnSidebar('Bottom')} />\n  </>;\n\n  return (\n    <div className={cnSidebar({ opened: sidebarOpened })}>\n      <Icon name='settings' className={cnSidebar('Menu')} onIconClick={onSettingsClick} />\n      <TabPanel\n        tabs={[\n          {\n            content: timerPage,\n            text: 'Таймеры',\n            onClick: onTabClick(0),\n            active: activeTab === 0,\n          },\n        ]} />\n    </div>\n  );\n});","import React, { useReducer, useState } from 'react';\nimport { cn } from 'recn';\n\nimport { Countdown } from '../Countdown/Countdown';\nimport { rootReducer, initialState } from '../../store';\nimport { StoreContext } from '../../context/StoreContext';\n\nimport './App.scss';\nimport { Theme } from '../Theme/Theme';\nimport { Sidebar } from '../Sidebar/Sidebar';\nimport { Locales } from '../../utils/i18n';\nimport { LanguageContext } from '../../context/LanguageContext';\nimport { Icon } from '../Icon/Icon';\nimport { CounterStoreActionTypes } from '../../store/CounterStore/CounterStore.typings';\n\nconst cnApp = cn('App');\n\nexport const App = () => {\n  const [store, dispatch] = useReducer(rootReducer, initialState);\n  const [locale, setLocale] = useState(Locales.ru);\n  const currentCounter = store.counterStore.counters.find(c => c.id === store.counterStore.currentCounterId);\n\n  const onFridayIconClick = () => dispatch({ type: CounterStoreActionTypes.chooseCounter, payload: { id: undefined } });\n\n  return (\n    <LanguageContext.Provider value={{ locale, setLocale }}>\n      <StoreContext.Provider value={{ store, dispatch }}>\n        <div className={cnApp()}>\n          <Theme />\n          <Countdown counter={currentCounter} />\n          <Sidebar />\n          <Icon className={cnApp('FridayIcon')} onIconClick={onFridayIconClick} name='flame' />\n        </div>\n      </StoreContext.Provider>\n    </LanguageContext.Provider>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/App/App';\n\nimport './index.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}